%产生数组A用来存放表示两点之间权值的矩阵A，也就是临接矩阵，那么两点之间权值不为零元素的个数即为该点的度数
DEF=20;%设定一个东东 方便改变随机点的个数
A=[Inf,18.0332000000000,2.19393333333333,4.05833333333333,5.83466666666667,2.55200000000000,24.4926666666667,4.60933333333333,9.02200000000000,7.00800000000000,9.61066666666667,4.65733333333333,6.83200000000000,6.78866666666667,1.95466666666667,4.08600000000000,13.9620000000000,4.89466666666667,9.71600000000000,3.56000000000000;7.03320000000000,Inf,2.16266666666667,4.08160000000000,5.86800000000000,2.58400000000000,24.5313333333333,4.59200000000000,9.01133333333333,6.99466666666667,9.65266666666667,4.69466666666667,6.85000000000000,6.81666666666667,2.09600000000000,4.09266666666667,13.9626666666667,4.88400000000000,9.80600000000000,3.57733333333333;7.19393333333333,18.1626666666667,Inf,4.21466666666667,6.01733333333333,2.75066666666667,24.6920000000000,4.69133333333333,8.88066666666667,6.87800000000000,9.78933333333333,4.82600000000000,6.97266666666667,6.96933333333333,2.07066666666667,4.06866666666667,13.9046666666667,4.78133333333333,9.91466666666667,3.68533333333333;7.05833333333333,18.0816000000000,2.21466666666667,Inf,5.79533333333333,2.49600000000000,24.4586666666667,4.53333333333333,8.99800000000000,6.98066666666667,9.57466666666667,4.61600000000000,6.78266666666667,6.74866666666667,2.03733333333333,4.03333333333333,13.8726666666667,4.84866666666667,9.69133333333333,3.49200000000000;8.83466666666667,19.8680000000000,4.01733333333333,5.79533333333333,Inf,3.31266666666667,25.3706666666667,3.52333333333333,10.4000000000000,8.40866666666667,7.88333333333333,2.91133333333333,7.01333333333333,7.04666666666667,2.91800000000000,4.90800000000000,14.7473333333333,6.01733333333333,8.79866666666667,2.87400000000000;7.55200000000000,18.5840000000000,2.75066666666667,4.49600000000000,5.31266666666667,Inf,25.0940000000000,4.08000000000000,9.23533333333333,7.22866666666667,9.06533333333333,4.11066666666667,6.28133333333333,6.26666666666667,1.98733333333333,3.98000000000000,13.9580000000000,5.03333333333333,9.23800000000000,3.03133333333333;7.49266666666667,18.5313333333333,2.69200000000000,4.45866666666667,5.37066666666667,3.09400000000000,Inf,3.98666666666667,9.33333333333333,7.34866666666667,9.16000000000000,4.19666666666667,6.37000000000000,6.31000000000000,2.16666666666667,4.16066666666667,14.1200000000000,5.17800000000000,9.39200000000000,3.18866666666667;8.60933333333333,19.5920000000000,3.69133333333333,5.53333333333333,4.52333333333333,3.08000000000000,24.9866666666667,Inf,10.2986666666667,8.30066666666667,8.38733333333333,3.42466666666667,6.83266666666667,6.81333333333333,2.91733333333333,4.90933333333333,14.8326666666667,6.01533333333333,9.14400000000000,3.15333333333333;8.02200000000000,19.0113333333333,2.88066666666667,4.99800000000000,6.40000000000000,3.23533333333333,25.3333333333333,5.29866666666667,Inf,6.02200000000000,9.99666666666667,5.02000000000000,7.47000000000000,7.48333333333333,1.62133333333333,3.62800000000000,13.0520000000000,3.87866666666667,10,3.74533333333333;8.00800000000000,18.9946666666667,2.87800000000000,4.98066666666667,6.40866666666667,3.22866666666667,25.3486666666667,5.30066666666667,8.02200000000000,Inf,9.99133333333333,5.02000000000000,7.45666666666667,7.47933333333333,1.63333333333333,3.64000000000000,13.0720000000000,3.88466666666667,9.98000000000000,3.75666666666667;9.61066666666667,20.6526666666667,4.78933333333333,6.57466666666667,4.88333333333333,4.06533333333333,26.1600000000000,4.38733333333333,10.9966666666667,8.99133333333333,Inf,2.03666666666667,7.80533333333333,7.84266666666667,3.40933333333333,5.40000000000000,15.0400000000000,6.46000000000000,9.01733333333333,3.24333333333333;9.65733333333333,20.6946666666667,4.82600000000000,6.61600000000000,4.91133333333333,4.11066666666667,26.1966666666667,4.42466666666667,11.0200000000000,9.02000000000000,7.03666666666667,Inf,7.83866666666667,7.88400000000000,3.43400000000000,5.42666666666667,15.0786666666667,6.46666666666667,9.04000000000000,3.26000000000000;7.83200000000000,18.8500000000000,2.97266666666667,4.78266666666667,5.01333333333333,2.28133333333333,24.3700000000000,3.83266666666667,9.47000000000000,7.45666666666667,8.80533333333333,3.83866666666667,Inf,6.07066666666667,2.12866666666667,4.12133333333333,14.0886666666667,5.22200000000000,9.04133333333333,2.85400000000000;7.78866666666667,18.8166666666667,2.96933333333333,4.74866666666667,5.04666666666667,2.26666666666667,24.3100000000000,3.81333333333333,9.48333333333333,7.47933333333333,8.84266666666667,3.88400000000000,6.07066666666667,Inf,2.17733333333333,4.17000000000000,14.1333333333333,5.26666666666667,9.11333333333333,2.92133333333333;7.95466666666667,19.0960000000000,3.07066666666667,5.03733333333333,5.91800000000000,2.98733333333333,25.1666666666667,4.91733333333333,8.62133333333333,6.63333333333333,9.40933333333333,4.43400000000000,7.12866666666667,7.17733333333333,Inf,4.40000000000000,12.9733333333333,4.13800000000000,9.39800000000000,3.18400000000000;8.08600000000000,19.0926666666667,3.06866666666667,5.03333333333333,5.90800000000000,2.98000000000000,25.1606666666667,4.90933333333333,8.62800000000000,6.64000000000000,9.40000000000000,4.42666666666667,7.12133333333333,7.17000000000000,2.40000000000000,Inf,12.9713333333333,4.14000000000000,9.36000000000000,3.17333333333333;8.96200000000000,19.9626666666667,3.90466666666667,5.87266666666667,6.74733333333333,3.95800000000000,26.1200000000000,5.83266666666667,9.05200000000000,7.07200000000000,10.0400000000000,5.07866666666667,8.08866666666667,8.13333333333333,1.97333333333333,3.97133333333333,Inf,3.53733333333333,10.0806666666667,3.90000000000000;8.89466666666667,19.8840000000000,3.78133333333333,5.84866666666667,7.01733333333333,4.03333333333333,26.1780000000000,6.01533333333333,8.87866666666667,6.88466666666667,10.4600000000000,5.46666666666667,8.22200000000000,8.26666666666667,2.13800000000000,4.14000000000000,12.5373333333333,Inf,10.4046666666667,4.25133333333333;8.71600000000000,19.8060000000000,3.91466666666667,5.69133333333333,4.79866666666667,3.23800000000000,25.3920000000000,4.14400000000000,10,7.98000000000000,8.01733333333333,3.04000000000000,7.04133333333333,7.11333333333333,2.39800000000000,4.36000000000000,14.0806666666667,5.40466666666667,Inf,2.24466666666667;8.56000000000000,19.5773333333333,3.68533333333333,5.49200000000000,4.87400000000000,3.03133333333333,25.1886666666667,4.15333333333333,9.74533333333333,7.75666666666667,8.24333333333333,3.26000000000000,6.85400000000000,6.92133333333333,2.18400000000000,4.17333333333333,13.9000000000000,5.25133333333333,8.24466666666667,Inf];
%产生DEF*DEF的随机矩阵
Position=[DEF,2];
flag=1;
for i=1:DEF
   A(i,i)=0%将对角线上的数置为0
end
   A=10*A;
   A=floor(A);%向下去整
     for i=1:DEF
       for j=1:i
           A(j,i)=A(i,j)%将A矩阵变为一个上三角或者下三角矩阵
       end
     end
     x=100*rand(1,DEF);y=100*rand(1,DEF);%产生10个随机的点
   plot(x,y,'r+');
   
      for i=1:DEF
  a=find(A(i,:)>0)%将A矩阵每行大于0的数的在该行的地址找出来放在a中
  
  if flag==1&&i==1
    Position(1,1)=x(i);Position(1,2)=y(i);
  end
for j=1:length(a)  
   
   c=num2str(A(i,j)); %将A中的权值转化为字符型   
    if c~='0'%不显示为0的值 因为A矩阵为零代表两点不相连
   %text((x(i)+x(j))/2,(y(i)+y(j))/2,c,'Fontsize',18);%将权值显示在两点连线中间  
   
    end
    hold on;
   
%line([x(i) x(a(j))],[y(i) y(a(j))]);%连线
if i==1
    Position(j,1)=x(a(j));Position(j,2)=y(a(j));
end
end

      end
      
   title('坐标转换图');
   e=num2str(DEF);
   legend(e);%左上角显示节点的个数
    for m=1:DEF
       A(m,m)=m;
       f=num2str(A(m,m));
    hold on;text((x(m)+x(m))/2,(y(m)+y(m))/2,f,'Fontsize',18);%将权值显示在两点连线中间 
end
